(this["webpackJsonpmovie-react"]=this["webpackJsonpmovie-react"]||[]).push([[0],{22:function(e,t,n){},39:function(e,t,n){},47:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(32),i=n.n(r),s=(n(39),n(22),n(5)),o=n(0),l=function(e){return Object(o.jsxs)("div",{className:"navbar",children:[Object(o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1vw"},children:[Object(o.jsx)(s.c,{to:{pathname:"/",reset:!0},style:{textDecoration:"none"},replace:!0,children:Object(o.jsx)("p",{style:{fontSize:"4vmin",fontWeight:"bold",color:"black"},children:"My Cinema"})}),Object(o.jsx)("i",{style:{paddingLeft:"2 vw",fontSize:"4vmin"},className:"fas fa-film fa-2x"})]}),Object(o.jsxs)("div",{className:"link-cont",children:[Object(o.jsx)(s.c,{activeStyle:{backgroundColor:"#CAC40E",color:"black"},className:"nav-link",to:"/Popular",children:Object(o.jsx)("div",{className:"nav-list-element",children:"Popular"})}),Object(o.jsx)(s.c,{to:"/NowPlaying",activeStyle:{backgroundColor:"#CAC40E",color:"black"},className:"nav-link",children:Object(o.jsx)("div",{className:"nav-list-element",children:"In-Cinemas"})}),Object(o.jsx)(s.c,{to:"/Upcoming",activeStyle:{backgroundColor:"#CAC40E",color:"black"},className:"nav-link",children:Object(o.jsx)("div",{className:"nav-list-element",children:"Upcoming"})})]}),Object(o.jsx)("i",{onClick:function(){return function(){var e=document.getElementById("mobile-menu");e.classList.contains("toggle")?e.classList.remove("toggle"):e.classList.add("toggle")}()},className:"fas fa-bars fa-1x mobile-icon"}),Object(o.jsxs)("div",{id:"mobile-menu",className:"div-cont-mobile ",children:[Object(o.jsx)(s.c,{activeStyle:{backgroundColor:"#CAC40E",color:"black"},className:"nav-link",to:"/Popular",children:Object(o.jsx)("div",{className:"nav-list-element",children:"Popular"})}),Object(o.jsx)(s.c,{to:"/NowPlaying",activeStyle:{backgroundColor:"#CAC40E",color:"black"},className:"nav-link",children:Object(o.jsx)("div",{className:"nav-list-element",children:"In-Cinemas"})}),Object(o.jsx)(s.c,{to:"/Upcoming",activeStyle:{backgroundColor:"#CAC40E",color:"black"},className:"nav-link",children:Object(o.jsx)("div",{className:"nav-list-element",children:"Upcoming"})})]})]})},u=n(3),d=n(2),p=n.n(d),m=n(34),v=n(6),j=n(7),b=(n(47),function(e){return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.getResults();var n=document.getElementById("search");0===e.length&&n.classList.add("anim")},children:[Object(o.jsx)("input",{className:"search-bar search-bar-position",id:"search",type:"search",placeholder:"Search for movies...",required:!0,autoComplete:"on",onChange:function(t){return e.setSearch(t.target.value)},onFocus:function(e){return e.target.value=""}}),Object(o.jsx)("input",{type:"submit",style:{display:"none"}})]})})}),f=n(14),g=n(15),h=n(16),O=n.n(h),x=O.a.create({baseURL:"https://api.themoviedb.org/3/",headers:{"Content-type":"application/json"}}),y=new(function(){function e(){Object(f.a)(this,e),this.apiKey="?api_key=4198345852c55a862ccb220b37954952"}return Object(g.a)(e,[{key:"findByMovieId",value:function(e){return x.get("/movie/".concat(e).concat(this.apiKey))}},{key:"searchWithQuery",value:function(e){var t=escape(e);return x.get("/search/movie".concat(this.apiKey,"&language=en-US&query=").concat(t,"&page=1&include_adult=false"))}},{key:"getReccomendation",value:function(e){return x.get("https://api.themoviedb.org/3/movie/".concat(e,"/recommendations").concat(this.apiKey,"&language=en-US&page=1"))}},{key:"getSimilar",value:function(e){return x.get("https://api.themoviedb.org/3/movie/".concat(e,"/similar").concat(this.apiKey,"&language=en-US&page=1"))}},{key:"getPopular",value:function(e){return x.get("https://api.themoviedb.org/3/movie/popular".concat(this.apiKey,"&language=en-US&page=").concat(e))}},{key:"getNowPlaying",value:function(){return x.get("https://api.themoviedb.org/3/movie/now_playing".concat(this.apiKey,"&language=en-US&page=1"))}},{key:"getUpcoming",value:function(){return x.get("https://api.themoviedb.org/3/movie/upcoming".concat(this.apiKey,"&language=en-US&page=1"))}},{key:"getReviews",value:function(e){return x.get("https://api.themoviedb.org/3/movie/".concat(e,"/reviews").concat(this.apiKey,"&language=en-US&page=1"))}},{key:"getReleaseDate",value:function(e){return x.get("https://api.themoviedb.org/3/movie/".concat(e,"/release_dates").concat(this.apiKey))}},{key:"getCredits",value:function(e){return x.get("https://api.themoviedb.org/3/movie/".concat(e,"/credits").concat(this.apiKey,"&language=en-US"))}}]),e}()),w=(n(66),function(e){var t=null===e.data.poster_path?"":"http://image.tmdb.org/t/p/w200".concat(e.data.poster_path);return"404"!==e.data&&Object(o.jsx)("div",{className:"movie-card",children:Object(o.jsx)("img",{className:"movie-card-img",src:t,alt:e.data.original_title})})}),S=(n(67),function(e){return Object(o.jsx)("div",{className:"movie-container",children:e.movies.map((function(e){return Object(o.jsx)(s.b,{to:{pathname:"/MovieProfile/".concat(e.id),movie:e},children:Object(o.jsx)("div",{className:"movie-card-wrapper",children:Object(o.jsx)(w,{data:e})})},e.id)}))})}),k=(n(68),function(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(JSON.parse(sessionStorage.getItem("movies"))||""),i=Object(j.a)(r,2),s=i[0],l=i[1],d=Object(u.g)();Object(a.useEffect)((function(){var e=document.getElementById("search");!0===d.reset&&(l([]),e.classList.remove("anim","up-pos"),e.classList.add("down-pos"))}),[d]),Object(a.useEffect)((function(){sessionStorage.setItem("movies",JSON.stringify(s))}),[s]),Object(a.useEffect)((function(){var e=document.getElementById("search");s.length>0?(e.classList.remove("down-pos"),e.classList.add("up-pos")):(e.classList.remove("anim","up-pos"),e.classList.add("down-pos"))}),[s]);var f=function(){var e=Object(v.a)(p.a.mark((function e(){var t,a,c,r,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.searchWithQuery(n);case 2:t=e.sent,a=[],c=Object(m.a)(t.data.results);try{for(c.s();!(r=c.n()).done;)null!==(i=r.value).poster_path&&"en"===i.original_language&&i.popularity>15&&i.vote_count>30&&null!==i.backdrop_path&&a.push(i)}catch(s){c.e(s)}finally{c.f()}l(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(b,{search:n,setSearch:c,getResults:f,length:s.length}),0!==s.length&&Object(o.jsx)(S,{movies:s})]})}),N=(n(69),O.a.create({baseURL:"http://127.0.0.1:5000/api/",headers:{"Content-type":"application/json"}})),C=new(function(){function e(){Object(f.a)(this,e)}return Object(g.a)(e,[{key:"findByMovieId",value:function(e){return N.get("/getSimilarMovies?id=".concat(e))}}]),e}()),E=function(){return Object(o.jsx)("div",{className:"footer",children:Object(o.jsx)("p",{style:{fontSize:"2vw"},children:"API provided by https://www.themoviedb.org/"})})},I=function(e){var t=Object(a.useState)([]),n=Object(j.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(!0),s=Object(j.a)(i,2),l=s[0],u=s[1],d=Object(a.useState)(""),m=Object(j.a)(d,2),b=m[0],f=m[1];Object(a.useEffect)((function(){return void 0!==e.movieid&&g(e.movieid),function(){return r([])}}),[e.movieid]);var g=function(){var e=Object(v.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.findByMovieId(t);case 3:if("object"===typeof(n=e.sent).data){e.next=8;break}e.t0=[],e.next=11;break;case 8:return e.next=10,Promise.all(n.data.map(function(){var e=Object(v.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.findByMovieId(t.id);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 10:e.t0=e.sent;case 11:a=e.t0,r(a),u(!1),e.next=21;break;case 16:e.prev=16,e.t1=e.catch(0),console.log(e.t1),u(!1),f("Error while connecting to Server");case 21:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h2",{style:{textAlign:"center"},children:"Similar movies based on movie description text similarity"}),c.length>0&&Object(o.jsx)(S,{movies:c}),l&&Object(o.jsx)("p",{style:{color:"white",textAlign:"center"},children:"Loading..."},e.movieid),!l&&0===c.length&&""===b&&Object(o.jsx)("p",{style:{color:"red",textAlign:"center"},children:"Similar movies not available for this title!"},e.movieid),""!==b&&Object(o.jsx)("p",{style:{color:"red",textAlign:"center"},children:"".concat(b,"...")},e.movieid),Object(o.jsx)(E,{})]})},P=function(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),n=t[0],c=t[1],r=Object(u.f)().location.movie,i=Object(u.f)().location.pathname.substring(14);Object(a.useEffect)((function(){void 0!==r&&(sessionStorage.setItem("movieprofile".concat(i),JSON.stringify(r)),s(r.id).then((function(e){var t=Object.assign({},e,r);(function(){var e=Object(v.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sessionStorage.setItem("movieprofile".concat(i),JSON.stringify(t));case 2:c(JSON.parse(sessionStorage.getItem("movieprofile".concat(i))));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}))),c(JSON.parse(sessionStorage.getItem("movieprofile".concat(i))))}),[i]),Object(a.useEffect)((function(){window.scrollTo(0,0)}),[n]);var s=function(){var e=Object(v.a)(p.a.mark((function e(t){var n,a,c,r,i,s,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={release:null,credits:null,rec:null,review:null,similar:null},e.next=3,y.getReleaseDate(t);case 3:return a=e.sent,e.next=6,y.getCredits(t);case 6:return c=e.sent,e.next=9,y.getReccomendation(t);case 9:return r=e.sent,e.next=12,y.getReviews(t);case 12:return i=e.sent,e.next=15,y.getSimilar(t);case 15:return s=e.sent,e.next=18,Promise.all([a,c,r,i,s]);case 18:return o=e.sent,n.release=o[0].data,n.credits=o[1].data,n.rec=o[2].data.results.filter((function(e){return null!==e.poster_path})),n.review=o[3].data,n.similar=o[4].data.results.filter((function(e){return null!==e.poster_path})),e.abrupt("return",n);case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"profile-cont",children:[Object(o.jsxs)("div",{children:[Object(o.jsx)(w,{data:n}),Object(o.jsx)("p",{className:"movie-desc",children:n.release_date})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{className:"movie-title",children:n.original_title}),Object(o.jsx)("p",{className:"movie-desc",children:n.overview})]})]}),Object(o.jsx)("h2",{style:{textAlign:"center"},children:"Reccomended Movies"}),void 0!==n.rec&&Object(o.jsx)(S,{movies:n.rec}),Object(o.jsx)("h2",{style:{textAlign:"center"},children:"Similar movies based on keywords and genres"}),void 0!==n.similar&&Object(o.jsx)(S,{movies:n.similar}),Object(o.jsx)(I,{movieid:n.id},n.id)]})},U=(n(70),n(71),function(){var e=Object(a.useState)([]),t=Object(j.a)(e,2),n=t[0],c=t[1];Object(a.useEffect)((function(){r(2)}),[]);var r=function(){var e=Object(v.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e){for(var t=[],n=1;n<=e;n++)t.push(n);return t},e.next=3,Promise.all(n(t).map(function(){var e=Object(v.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.getPopular(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:a=e.sent,c(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsx)(o.Fragment,{children:n.map((function(e){return 0!==n.length&&Object(o.jsx)(S,{movies:e.data.results},e.data.page)}))})}),_=function(){var e=Object(a.useState)([]),t=Object(j.a)(e,2),n=t[0],c=t[1],r=function(){var e=Object(v.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.getNowPlaying();case 2:t=e.sent,n=t.data.results.filter((function(e){return"en"===e.original_language})),c(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){return r()}),[]),0!==n.length&&Object(o.jsx)(S,{movies:n})},L=function(){var e=Object(a.useState)([]),t=Object(j.a)(e,2),n=t[0],c=t[1];console.log(n);var r=function(){var e=Object(v.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.getUpcoming();case 2:t=e.sent,n=t.data.results.filter((function(e){return"en"===e.original_language})),c(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){return r()}),[]),0!==n.length&&Object(o.jsx)(S,{movies:n})};var A=function(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(l,{}),Object(o.jsxs)(u.c,{children:[Object(o.jsx)(u.a,{exact:!0,path:"/",component:k}),Object(o.jsx)(u.a,{exact:!0,path:"/MovieProfile/:id",component:P}),Object(o.jsx)(u.a,{exact:!0,path:"/Popular",component:U}),Object(o.jsx)(u.a,{exact:!0,path:"/NowPlaying",component:_}),Object(o.jsx)(u.a,{exact:!0,path:"/Upcoming",component:L})]})]})};i.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(s.a,{children:Object(o.jsx)(A,{})})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.a32cf01c.chunk.js.map