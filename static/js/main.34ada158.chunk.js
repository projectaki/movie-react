(this["webpackJsonpmovie-react"]=this["webpackJsonpmovie-react"]||[]).push([[0],{22:function(e,t,n){},39:function(e,t,n){},47:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),o=n(32),s=n.n(o),i=(n(39),n(22),n(6)),r=n(0),l=function(e){return Object(r.jsxs)("div",{id:"n",className:"navbar",children:[Object(r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1vw"},children:[Object(r.jsx)(i.c,{to:{pathname:"/",reset:!0},style:{textDecoration:"none"},replace:!0,children:Object(r.jsx)("p",{style:{fontSize:"4vmin",fontWeight:"bold",color:"black"},children:"My Cinema"})}),Object(r.jsx)("i",{style:{paddingLeft:"1vw",fontSize:"4vmin"},className:"fas fa-tv fa-2x"})]}),Object(r.jsxs)("div",{className:"link-cont",children:[Object(r.jsx)(i.c,{activeStyle:{backgroundColor:"#CAC40E",color:"black"},className:"nav-link",to:"/Popular",children:Object(r.jsx)("div",{className:"nav-list-element",children:"Popular"})}),Object(r.jsx)(i.c,{to:"/NowPlaying",activeStyle:{backgroundColor:"#CAC40E",color:"black"},className:"nav-link",children:Object(r.jsx)("div",{className:"nav-list-element",children:"In-Cinemas"})}),Object(r.jsx)(i.c,{to:"/Upcoming",activeStyle:{backgroundColor:"#CAC40E",color:"black"},className:"nav-link",children:Object(r.jsx)("div",{className:"nav-list-element",children:"Upcoming"})})]}),Object(r.jsx)("i",{onClick:function(e){return function(e){e.stopPropagation();var t=document.getElementById("mobile-menu");t.classList.contains("toggle")?t.classList.remove("toggle"):t.classList.add("toggle")}(e)},className:"fas fa-bars fa-1x mobile-icon"}),Object(r.jsxs)("div",{id:"mobile-menu",className:"div-cont-mobile ",style:{zIndex:"1"},children:[Object(r.jsx)(i.c,{activeStyle:{backgroundColor:"#CAC40E",color:"black"},className:"nav-link",to:"/Popular",children:Object(r.jsx)("div",{className:"nav-list-element",children:"Popular"})}),Object(r.jsx)(i.c,{to:"/NowPlaying",activeStyle:{backgroundColor:"#CAC40E",color:"black"},className:"nav-link",children:Object(r.jsx)("div",{className:"nav-list-element",children:"In-Cinemas"})}),Object(r.jsx)(i.c,{to:"/Upcoming",activeStyle:{backgroundColor:"#CAC40E",color:"black"},className:"nav-link",children:Object(r.jsx)("div",{className:"nav-list-element",children:"Upcoming"})})]})]})},u=n(2),m=n(3),d=n.n(m),p=n(34),g=n(7),v=n(4),j=(n(47),function(e){return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.getResults();var n=document.getElementById("search");0===e.length&&n.classList.add("anim")},children:[Object(r.jsx)("input",{className:"search-bar search-bar-position",id:"search",type:"search",placeholder:"Search for movies...",required:!0,autoComplete:"off",onChange:function(t){return e.setSearch(t.target.value)},onFocus:function(e){return e.target.value=""}}),Object(r.jsx)("input",{type:"submit",style:{display:"none"}})]})})}),f=n(13),b=n(14),h=n(16),O=n.n(h),x=O.a.create({baseURL:"https://api.themoviedb.org/3/",headers:{"Content-type":"application/json"}}),y=new(function(){function e(){Object(f.a)(this,e),this.apiKey="?api_key=4198345852c55a862ccb220b37954952"}return Object(b.a)(e,[{key:"findByMovieId",value:function(e){return x.get("/movie/".concat(e).concat(this.apiKey))}},{key:"searchWithQuery",value:function(e){var t=escape(e);return x.get("/search/movie".concat(this.apiKey,"&language=en-US&query=").concat(t,"&page=1&include_adult=false"))}},{key:"getReccomendation",value:function(e){return x.get("https://api.themoviedb.org/3/movie/".concat(e,"/recommendations").concat(this.apiKey,"&language=en-US&page=1"))}},{key:"getSimilar",value:function(e){return x.get("https://api.themoviedb.org/3/movie/".concat(e,"/similar").concat(this.apiKey,"&language=en-US&page=1"))}},{key:"getPopular",value:function(e){return x.get("https://api.themoviedb.org/3/movie/popular".concat(this.apiKey,"&language=en-US&page=").concat(e))}},{key:"getNowPlaying",value:function(){return x.get("https://api.themoviedb.org/3/movie/now_playing".concat(this.apiKey,"&language=en-US&page=1"))}},{key:"getUpcoming",value:function(){return x.get("https://api.themoviedb.org/3/movie/upcoming".concat(this.apiKey,"&language=en-US&page=1"))}},{key:"getReviews",value:function(e){return x.get("https://api.themoviedb.org/3/movie/".concat(e,"/reviews").concat(this.apiKey,"&language=en-US&page=1"))}},{key:"getReleaseDate",value:function(e){return x.get("https://api.themoviedb.org/3/movie/".concat(e,"/release_dates").concat(this.apiKey))}},{key:"getCredits",value:function(e){return x.get("https://api.themoviedb.org/3/movie/".concat(e,"/credits").concat(this.apiKey,"&language=en-US"))}}]),e}()),S=new(function(){function e(){Object(f.a)(this,e),this.apiKey="?api_key=4198345852c55a862ccb220b37954952"}return Object(b.a)(e,[{key:"findByMovieId",value:function(e){return x.get("/tv/".concat(e).concat(this.apiKey))}},{key:"searchWithQuery",value:function(e){var t=escape(e);return x.get("/search/tv".concat(this.apiKey,"&language=en-US&query=").concat(t,"&page=1&include_adult=false"))}},{key:"getReccomendation",value:function(e){return x.get("https://api.themoviedb.org/3/tv/".concat(e,"/recommendations").concat(this.apiKey,"&language=en-US&page=1"))}},{key:"getSimilar",value:function(e){return x.get("https://api.themoviedb.org/3/tv/".concat(e,"/similar").concat(this.apiKey,"&language=en-US&page=1"))}},{key:"getPopular",value:function(e){return x.get("https://api.themoviedb.org/3/tv/popular".concat(this.apiKey,"&language=en-US&page=").concat(e))}},{key:"getNowPlaying",value:function(){return x.get("https://api.themoviedb.org/3/tv/airing_today".concat(this.apiKey,"&language=en-US&page=1"))}},{key:"getUpcoming",value:function(){return x.get("https://api.themoviedb.org/3/tv/on_the_air".concat(this.apiKey,"&language=en-US&page=1"))}},{key:"getReviews",value:function(e){return x.get("https://api.themoviedb.org/3/movie/".concat(e,"/reviews").concat(this.apiKey,"&language=en-US&page=1"))}},{key:"getReleaseDate",value:function(e){return x.get("https://api.themoviedb.org/3/movie/".concat(e,"/release_dates").concat(this.apiKey))}},{key:"getCredits",value:function(e){return x.get("https://api.themoviedb.org/3/tv/".concat(e,"/credits").concat(this.apiKey,"&language=en-US"))}}]),e}()),k=(n(66),function(e){var t=null===e.data.poster_path?"":"http://image.tmdb.org/t/p/w500".concat(e.data.poster_path);return"404"!==e.data&&Object(r.jsx)("div",{className:"movie-card",children:Object(r.jsx)("img",{className:"movie-card-img",src:t,alt:e.data.original_title||e.data.original_name})})}),N=(n(67),function(e){var t=Object(u.f)();return Object(r.jsx)("div",{className:"movie-container",children:e.movies.map((function(e){return Object(r.jsx)(i.b,{to:{pathname:"/MovieProfile/".concat(e.id),movie:e},children:Object(r.jsx)("div",{onClick:function(){return function(){var e=t.location.pathname,n=document.body.scrollTop||document.documentElement.scrollTop;sessionStorage.setItem("scroll".concat(e),n)}()},className:"movie-card-wrapper",children:Object(r.jsx)(k,{data:e})})},e.id)}))})}),E=(n(68),function(){var e=Object(c.useState)(""),t=Object(v.a)(e,2),n=t[0],a=t[1],o=Object(c.useState)(JSON.parse(sessionStorage.getItem("movies"))||""),s=Object(v.a)(o,2),i=s[0],l=s[1],m=Object(c.useState)("movie"===sessionStorage.getItem("SELECTOR")?y:S),f=Object(v.a)(m,2),b=f[0],h=(f[1],Object(u.g)());Object(c.useEffect)((function(){sessionStorage.removeItem("movies"),l("")}),[b]),Object(c.useEffect)((function(){var e=document.getElementById("search");!0===h.reset&&(l([]),e.classList.remove("anim","up-pos"),e.classList.add("down-pos"))}),[h]),Object(c.useEffect)((function(){sessionStorage.setItem("movies",JSON.stringify(i))}),[i]),Object(c.useEffect)((function(){var e=document.getElementById("search");i.length>0?(e.classList.remove("down-pos"),e.classList.add("up-pos")):(e.classList.remove("anim","up-pos"),e.classList.add("down-pos"))}),[i]);var O=function(){var e=Object(g.a)(d.a.mark((function e(){var t,c,a,o,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.searchWithQuery(n);case 2:t=e.sent,c=[],a=Object(p.a)(t.data.results);try{for(a.s();!(o=a.n()).done;)null!==(s=o.value).poster_path&&"en"===s.original_language&&s.popularity>15&&s.vote_count>30&&null!==s.backdrop_path&&c.push(s)}catch(i){a.e(i)}finally{a.f()}l(c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(j,{search:n,setSearch:a,getResults:O,length:i.length}),0!==i.length&&Object(r.jsx)(N,{movies:i})]})}),w=(n(69),O.a.create({baseURL:"http://127.0.0.1:5000/api/",headers:{"Content-type":"application/json"}})),I=(new(function(){function e(){Object(f.a)(this,e)}return Object(b.a)(e,[{key:"findByMovieId",value:function(e){return w.get("/getSimilarMovies?id=".concat(e))}}]),e}()),function(){return Object(r.jsx)("div",{className:"footer",children:Object(r.jsx)("p",{style:{fontSize:"2vw"},children:"API provided by https://www.themoviedb.org/"})})}),C=function(){var e=Object(u.f)().location.movie,t=Object(u.f)().location.pathname.substring(14),n=Object(c.useState)(""),a=Object(v.a)(n,2),o=a[0],s=a[1],i=Object(c.useState)("movie"===sessionStorage.getItem("SELECTOR")?y:S),l=Object(v.a)(i,2),m=l[0],p=(l[1],0);Object(c.useEffect)((function(){var n=!0;void 0!==e&&(s(e),sessionStorage.setItem("movieprofile".concat(t),JSON.stringify(e)));var c=JSON.parse(sessionStorage.getItem("movieprofile".concat(t)));return void 0===c.rec&&j(c.id).then((function(e){var a=Object.assign({},e,c);(function(){var e=Object(g.a)(d.a.mark((function e(){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sessionStorage.setItem("movieprofile".concat(t),JSON.stringify(a));case 2:c=JSON.parse(sessionStorage.getItem("movieprofile".concat(t))),n&&s(c);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()})),s(JSON.parse(sessionStorage.getItem("movieprofile".concat(t)))),function(){return n=!1}}),[t,e]),Object(c.useEffect)((function(){window.scrollTo(0,0)}),[o]);var j=function(){var e=Object(g.a)(d.a.mark((function e(t){var n,c,a,o,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={credits:null,rec:null,similar:null},e.next=3,m.getCredits(t);case 3:return c=e.sent,e.next=6,m.getReccomendation(t);case 6:return a=e.sent,e.next=9,m.getSimilar(t);case 9:return o=e.sent,e.next=12,Promise.all([c,a,o]);case 12:return s=e.sent,n.credits=s[0].data,n.rec=s[1].data.results.filter((function(e){return null!==e.poster_path})),n.similar=s[2].data.results.filter((function(e){return null!==e.poster_path})),e.abrupt("return",n);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"profile-cont",children:[Object(r.jsx)("div",{children:Object(r.jsx)(k,{data:o})}),Object(r.jsxs)("div",{className:"text-cont",children:[Object(r.jsxs)("div",{className:"title-cont",children:[Object(r.jsx)("h2",{className:"movie-title",children:o.original_title||o.original_name}),Object(r.jsx)("h2",{className:"movie-release",children:""!==o&&(void 0!==o.release_date&&o.release_date.substring(0,4)||void 0!==o.first_air_date&&o.first_air_date.substring(0,4))})]}),Object(r.jsx)("div",{className:"desc-cont",children:Object(r.jsx)("p",{className:"movie-desc",children:o.overview})})]}),Object(r.jsxs)("div",{className:"cast",children:[Object(r.jsx)("div",{style:{fontWeight:"bold"},children:"Cast: "}),""!==o&&void 0!==o.credits&&o.credits.cast.map((function(e){return Object(r.jsxs)("div",{className:"cast-record",children:[e.name," : ",e.character]},p++)}))]}),Object(r.jsxs)("p",{className:"rating",children:[Object(r.jsx)("i",{style:{paddingRight:"1vw",fontSize:"9vmin",color:"#986B05"},className:"fas fa-star fa-1x"}),o.vote_average]})]}),Object(r.jsx)("h2",{style:{textAlign:"center"},children:"Reccomended Movies"}),void 0!==o.rec&&Object(r.jsx)(N,{movies:o.rec}),Object(r.jsx)("h2",{style:{textAlign:"center"},children:"Similar movies based on keywords and genres"}),void 0!==o.similar&&Object(r.jsx)(N,{movies:o.similar}),Object(r.jsx)(I,{})]})},_=(n(70),n(71),function(){var e=Object(u.f)(),t=Object(c.useState)(JSON.parse(sessionStorage.getItem("".concat(e.location.path)))||[]),n=Object(v.a)(t,2),a=n[0],o=n[1],s=Object(c.useState)(JSON.parse(sessionStorage.getItem("".concat(e.location.path,"pages")))||1),i=Object(v.a)(s,2),l=i[0],m=i[1],p=Object(c.useState)("movie"===sessionStorage.getItem("SELECTOR")?y:S),j=Object(v.a)(p,2),f=j[0];j[1];Object(c.useEffect)((function(){}),[]),Object(c.useEffect)((function(){sessionStorage.removeItem("scroll".concat(e.location.pathname)),o([])}),[f]),Object(c.useEffect)((function(){(function(){var t=Object(g.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,parseInt(sessionStorage.getItem("scroll".concat(e.location.pathname)));case 2:n=t.sent,document.body.scrollTop=n,document.documentElement.scrollTop=n;case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[document.body.scrollTop,document.documentElement.scrollTop]),Object(c.useEffect)((function(){b(l)}),[l]);var b=function(){var t=Object(g.a)(d.a.mark((function t(n){var c,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=function(e){for(var t=[],n=1;n<=e;n++)t.push(n);return t},t.next=3,Promise.all(c(n).map(function(){var e=Object(g.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.getPopular(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:s=t.sent,console.log(s),o(s),sessionStorage.setItem("".concat(e.location.path),JSON.stringify(a)),sessionStorage.setItem("".concat(e.location.path,"pages"),l);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(r.jsxs)(r.Fragment,{children:[null!==a&&a.map((function(e){return 0!==a.length&&Object(r.jsx)(N,{movies:e.data.results},e.data.page)})),Object(r.jsx)("div",{className:"load-cont",children:Object(r.jsx)("div",{className:"load-more-btn",onClick:function(){return function(){m(l+1);var t=e.location.pathname,n=document.body.scrollTop||document.documentElement.scrollTop;sessionStorage.setItem("scroll".concat(t),n)}()},children:"Load more..."})}),Object(r.jsx)(I,{})]})}),T=function(){var e=Object(c.useState)("movie"===sessionStorage.getItem("SELECTOR")?y:S),t=Object(v.a)(e,2),n=t[0],a=(t[1],Object(u.f)());Object(c.useEffect)((function(){sessionStorage.removeItem("scroll".concat(a.location.pathname)),l([])}),[n]),Object(c.useEffect)((function(){var e=parseInt(sessionStorage.getItem("scroll".concat(a.location.pathname)));document.body.scrollTop=e,document.documentElement.scrollTop=e}),[a.location.pathname]);var o=Object(c.useState)([]),s=Object(v.a)(o,2),i=s[0],l=s[1],m=function(){var e=Object(g.a)(d.a.mark((function e(){var t,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getNowPlaying();case 2:t=e.sent,c=t.data.results.filter((function(e){return"en"===e.original_language})),l(c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){return m()}),[]),Object(r.jsxs)(r.Fragment,{children:[0!==i.length&&Object(r.jsx)(N,{movies:i}),";"]})},L=function(){var e=Object(c.useState)([]),t=Object(v.a)(e,2),n=t[0],a=t[1],o=Object(u.f)(),s=Object(c.useState)("movie"===sessionStorage.getItem("SELECTOR")?y:S),i=Object(v.a)(s,2),l=i[0];i[1];Object(c.useEffect)((function(){sessionStorage.removeItem("scroll".concat(o.location.pathname)),a([])}),[l]),Object(c.useEffect)((function(){var e=parseInt(sessionStorage.getItem("scroll".concat(o.location.pathname)));document.body.scrollTop=e,document.documentElement.scrollTop=e}),[o.location.pathname]);var m=function(){var e=Object(g.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.getUpcoming();case 2:t=e.sent,n=t.data.results.filter((function(e){return"en"===e.original_language})),a(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){return m()}),[]),Object(r.jsx)(r.Fragment,{children:0!==n.length&&Object(r.jsx)(N,{movies:n})})},U=(n(72),function(){var e=Object(u.f)();Object(c.useEffect)((function(){window.onscroll=function(){t()},t(),window.onclick=function(){document.getElementById("mobile-menu").classList.remove("toggle")}}),[]);var t=function(){var e=document.getElementById("top-button");document.body.scrollTop>500||document.documentElement.scrollTop>500?e.style.display="block":e.style.display="none"};return Object(r.jsx)("i",{onClick:function(){return document.body.scrollTop=0,document.documentElement.scrollTop=0,void sessionStorage.setItem("scroll".concat(e.location.pathname),0)},id:"top-button",className:"fas fa-chevron-circle-up fa-3x top-button"})}),K=function(){return Object(r.jsx)("div",{id:"demo",children:"HELLO"})},P=(n(73),function(){Object(c.useEffect)((function(){var e=document.getElementById("n");return e.classList.add("hide-nav"),function(){return e.classList.remove("hide-nav")}}),[]);return Object(r.jsx)("div",{className:"main-page",children:Object(r.jsxs)("div",{className:"select-cont",children:[Object(r.jsx)(i.b,{to:"/Home",style:{textDecoration:"none",color:"black"},children:Object(r.jsx)("div",{onClick:function(){sessionStorage.setItem("SELECTOR","tv")},className:"select",children:"Tv-series"})}),Object(r.jsx)(i.b,{to:"/Home",style:{textDecoration:"none",color:"black"},children:Object(r.jsx)("div",{onClick:function(){sessionStorage.setItem("SELECTOR","movie")},className:"select",children:"Movies"})})]})})});var R=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(l,{}),Object(r.jsx)(U,{}),Object(r.jsxs)(u.c,{children:[Object(r.jsx)(u.a,{exact:!0,path:"/",component:P}),Object(r.jsx)(u.a,{exact:!0,path:"/Home",component:E}),Object(r.jsx)(u.a,{exact:!0,path:"/MovieProfile/:id",component:C}),Object(r.jsx)(u.a,{exact:!0,path:"/Popular",component:_}),Object(r.jsx)(u.a,{exact:!0,path:"/NowPlaying",component:T}),Object(r.jsx)(u.a,{exact:!0,path:"/Upcoming",component:L}),Object(r.jsx)(u.a,{exact:!0,path:"/TEST",component:K})]})]})};s.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(i.a,{children:Object(r.jsx)(R,{})})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.34ada158.chunk.js.map